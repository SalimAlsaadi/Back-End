2023-10-10 11:07:45.476 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 11:07:45.964 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 11:07:45.965 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 11:07:45.970 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 11:07:45.975 -07:00 [INF] Hosting environment: Development
2023-10-10 11:07:45.976 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 11:07:46.706 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 11:07:46.861 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 158.3306ms
2023-10-10 11:07:46.862 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 11:07:47.246 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 383.9359ms
2023-10-10 11:07:47.255 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 11:07:47.255 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 11:07:47.256 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 11:07:47.256 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 11:07:47.256 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 11:07:47.267 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.3390ms
2023-10-10 11:07:47.333 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 11:07:47.336 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 79.6725ms
2023-10-10 11:07:47.333 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 11:07:47.334 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.9160ms
2023-10-10 11:07:47.340 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 84.5376ms
2023-10-10 11:07:47.353 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 11:07:47.354 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 97.5219ms
2023-10-10 11:07:47.488 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 11:07:47.607 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.3343ms
2023-10-10 11:21:40.882 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 11:21:41.138 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 11:21:41.139 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 11:21:41.143 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 11:21:41.145 -07:00 [INF] Hosting environment: Development
2023-10-10 11:21:41.145 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 11:21:41.654 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 11:21:41.774 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 124.8080ms
2023-10-10 11:21:41.781 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 11:21:42.084 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 302.6812ms
2023-10-10 11:21:42.093 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 11:21:42.093 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 11:21:42.093 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 11:21:42.093 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 11:21:42.098 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 4.8662ms
2023-10-10 11:21:42.117 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 11:21:42.117 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 11:21:42.120 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 27.0889ms
2023-10-10 11:21:42.120 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 26.8095ms
2023-10-10 11:21:42.127 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 11:21:42.137 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 11:21:42.138 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 45.1780ms
2023-10-10 11:21:42.159 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.1217ms
2023-10-10 11:21:42.280 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 11:21:42.405 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.8081ms
2023-10-10 11:23:09.003 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=1&Acc=1&price=10 - 0
2023-10-10 11:23:09.191 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:23:09.274 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:23:13.475 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:23:13.575 -07:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-10-10 11:23:13.591 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 4300.1727ms
2023-10-10 11:23:13.593 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:23:13.598 -07:00 [INF] HTTP POST /api/Borrow responded 404 in 4580.3674 ms
2023-10-10 11:23:13.619 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=1&Acc=1&price=10 - 0 - 404 - text/plain;+charset=utf-8 4616.4442ms
2023-10-10 11:23:49.432 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 11:23:49.441 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:23:49.443 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:23:49.479 -07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:23:49.628 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:23:49.807 -07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [books] SET [author] = @p0, [available_status] = @p1, [bookName] = @p2, [price] = @p3, [pub_year] = @p4
OUTPUT 1
WHERE [bookId] = @p5;
2023-10-10 11:23:54.229 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 4783.6969ms
2023-10-10 11:23:54.232 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:23:54.234 -07:00 [ERR] HTTP POST /api/Borrow responded 500 in 4792.7225 ms
System.AggregateException: One or more errors occurred. (No connection could be made because the target machine actively refused it. (localhost:7111))
 ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:7111)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at LibraryAPI.Controllers.BorrowFunctions.borrowBook(Int32 patronId, Int32 bookId, String Acc, Double price) in C:\Users\TRA\Desktop\code-TRA\LibraryAPI\Controllers\BorrowFunctions.cs:line 44
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-10-10 11:23:54.398 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (No connection could be made because the target machine actively refused it. (localhost:7111))
 ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:7111)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at LibraryAPI.Controllers.BorrowFunctions.borrowBook(Int32 patronId, Int32 bookId, String Acc, Double price) in C:\Users\TRA\Desktop\code-TRA\LibraryAPI\Controllers\BorrowFunctions.cs:line 44
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-10 11:23:54.421 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0 - 500 - text/plain;+charset=utf-8 4989.5230ms
2023-10-10 11:28:16.567 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 11:28:16.889 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 11:28:16.890 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 11:28:16.894 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 11:28:16.895 -07:00 [INF] Hosting environment: Development
2023-10-10 11:28:16.896 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 11:28:17.361 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 11:28:17.484 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 126.3878ms
2023-10-10 11:28:17.493 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 11:28:17.829 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 335.5318ms
2023-10-10 11:28:17.834 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 11:28:17.834 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 11:28:17.834 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 11:28:17.834 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 11:28:17.843 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.2316ms
2023-10-10 11:28:17.863 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 11:28:17.879 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 44.4006ms
2023-10-10 11:28:17.881 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 11:28:17.884 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 11:28:17.898 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 63.5704ms
2023-10-10 11:28:17.899 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 11:28:17.904 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 69.6325ms
2023-10-10 11:28:17.915 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.1307ms
2023-10-10 11:28:18.079 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 11:28:18.224 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.2530ms
2023-10-10 11:29:00.367 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 11:29:00.481 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:29:00.549 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:29:04.144 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:29:04.351 -07:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-10-10 11:29:04.360 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 3801.4749ms
2023-10-10 11:29:04.364 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:29:04.372 -07:00 [INF] HTTP POST /api/Borrow responded 404 in 3990.8132 ms
2023-10-10 11:29:04.402 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0 - 404 - text/plain;+charset=utf-8 4035.0117ms
2023-10-10 11:31:36.022 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2002&Acc=1&price=10 - 0
2023-10-10 11:31:36.065 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:31:36.065 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:31:36.114 -07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:31:36.128 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:31:36.307 -07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [books] SET [author] = @p0, [available_status] = @p1, [bookName] = @p2, [price] = @p3, [pub_year] = @p4
OUTPUT 1
WHERE [bookId] = @p5;
2023-10-10 11:31:40.660 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 4593.0172ms
2023-10-10 11:31:40.663 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:31:40.664 -07:00 [ERR] HTTP POST /api/Borrow responded 500 in 4599.9284 ms
System.AggregateException: One or more errors occurred. (No connection could be made because the target machine actively refused it. (localhost:7111))
 ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:7111)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at LibraryAPI.Controllers.BorrowFunctions.borrowBook(Int32 patronId, Int32 bookId, String Acc, Double price) in C:\Users\TRA\Desktop\code-TRA\LibraryAPI\Controllers\BorrowFunctions.cs:line 48
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-10-10 11:31:40.745 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (No connection could be made because the target machine actively refused it. (localhost:7111))
 ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:7111)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at LibraryAPI.Controllers.BorrowFunctions.borrowBook(Int32 patronId, Int32 bookId, String Acc, Double price) in C:\Users\TRA\Desktop\code-TRA\LibraryAPI\Controllers\BorrowFunctions.cs:line 48
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-10 11:31:40.765 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2002&Acc=1&price=10 - 0 - 500 - text/plain;+charset=utf-8 4742.7478ms
2023-10-10 11:51:09.330 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 11:51:09.639 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 11:51:09.640 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 11:51:09.645 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 11:51:09.646 -07:00 [INF] Hosting environment: Development
2023-10-10 11:51:09.647 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 11:51:10.121 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 11:51:10.244 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 126.1896ms
2023-10-10 11:51:10.255 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 11:51:10.592 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 337.3579ms
2023-10-10 11:51:10.600 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 11:51:10.601 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 11:51:10.602 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 11:51:10.601 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 11:51:10.603 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 11:51:10.614 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.9126ms
2023-10-10 11:51:10.670 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.3669ms
2023-10-10 11:51:10.670 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 11:51:10.670 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 11:51:10.670 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 11:51:10.673 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 71.5323ms
2023-10-10 11:51:10.678 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 76.0619ms
2023-10-10 11:51:10.679 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 78.8265ms
2023-10-10 11:51:10.834 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 11:51:10.963 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.3697ms
2023-10-10 11:51:36.037 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 11:51:36.148 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:51:36.217 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:51:39.679 -07:00 [INF] Executed DbCommand (161ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:51:39.883 -07:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-10-10 11:51:39.898 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 3665.3537ms
2023-10-10 11:51:39.900 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:51:39.906 -07:00 [INF] HTTP POST /api/Borrow responded 404 in 3852.3938 ms
2023-10-10 11:51:39.930 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0 - 404 - text/plain;+charset=utf-8 3892.3675ms
2023-10-10 11:52:10.956 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2002&Acc=1&price=10 - 0
2023-10-10 11:52:10.965 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:52:10.967 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:52:10.990 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:52:10.995 -07:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-10-10 11:52:10.996 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 26.9575ms
2023-10-10 11:52:10.997 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:52:10.998 -07:00 [INF] HTTP POST /api/Borrow responded 404 in 33.3500 ms
2023-10-10 11:52:11.000 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2002&Acc=1&price=10 - 0 - 404 - text/plain;+charset=utf-8 44.7268ms
2023-10-10 11:56:32.182 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 11:56:32.486 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 11:56:32.487 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 11:56:32.491 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 11:56:32.492 -07:00 [INF] Hosting environment: Development
2023-10-10 11:56:32.493 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 11:56:33.075 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 11:56:33.191 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 119.4113ms
2023-10-10 11:56:33.198 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 11:56:33.506 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 307.8491ms
2023-10-10 11:56:33.511 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 11:56:33.511 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 11:56:33.511 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 11:56:33.511 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 11:56:33.511 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 11:56:33.516 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.5652ms
2023-10-10 11:56:33.537 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 11:56:33.545 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 34.4244ms
2023-10-10 11:56:33.555 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 11:56:33.559 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 48.7254ms
2023-10-10 11:56:33.561 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 11:56:33.562 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 51.5720ms
2023-10-10 11:56:33.566 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.3816ms
2023-10-10 11:56:33.712 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 11:56:33.830 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.9933ms
2023-10-10 11:56:48.339 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 11:56:48.457 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:56:48.532 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:56:51.992 -07:00 [INF] Executed DbCommand (170ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:56:52.197 -07:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-10-10 11:56:52.212 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 3664.3142ms
2023-10-10 11:56:52.216 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:56:52.222 -07:00 [INF] HTTP POST /api/Borrow responded 404 in 3871.7339 ms
2023-10-10 11:56:52.251 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0 - 404 - text/plain;+charset=utf-8 3911.9220ms
2023-10-10 11:57:20.502 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 11:57:20.519 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 16.7960ms
2023-10-10 11:57:20.533 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 11:57:20.535 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 11:57:20.536 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 11:57:20.540 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 4.6594ms
2023-10-10 11:57:20.538 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 11:57:20.552 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 14.4158ms
2023-10-10 11:57:20.568 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.4361ms
2023-10-10 11:57:20.636 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 11:57:20.639 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.1203ms
2023-10-10 11:57:20.647 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/favicon-32x32.png - -
2023-10-10 11:57:20.650 -07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-10-10 11:57:20.652 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/favicon-32x32.png - - - 200 628 image/png 5.0228ms
2023-10-10 11:57:40.263 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 11:57:40.265 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:57:40.269 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:57:40.283 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:57:40.285 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-10 11:57:40.286 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 15.5997ms
2023-10-10 11:57:40.287 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:57:40.288 -07:00 [INF] HTTP POST /api/Borrow responded 200 in 23.4154 ms
2023-10-10 11:57:40.289 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0 - 200 - text/plain;+charset=utf-8 25.8822ms
2023-10-10 11:58:11.102 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 11:58:11.108 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:58:11.109 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:58:11.194 -07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:58:11.196 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-10-10 11:58:11.197 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 87.1533ms
2023-10-10 11:58:11.198 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:58:11.199 -07:00 [INF] HTTP POST /api/Borrow responded 200 in 93.9797 ms
2023-10-10 11:58:11.200 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0 - 200 - text/plain;+charset=utf-8 98.6954ms
2023-10-10 11:58:16.535 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 11:58:16.548 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 12.8901ms
2023-10-10 11:58:16.566 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 11:58:16.568 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 11:58:16.569 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 11:58:16.573 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 11:58:16.573 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 4.3882ms
2023-10-10 11:58:16.577 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 4.5289ms
2023-10-10 11:58:16.581 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.9021ms
2023-10-10 11:58:16.663 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 11:58:16.667 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.2679ms
2023-10-10 11:58:16.670 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/favicon-32x32.png - -
2023-10-10 11:58:16.671 -07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-10-10 11:58:16.673 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/favicon-32x32.png - - - 200 628 image/png 2.4992ms
2023-10-10 11:58:34.979 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 11:58:34.980 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:58:34.991 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:58:34.996 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 11:58:34.998 -07:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-10-10 11:58:34.999 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 6.247ms
2023-10-10 11:58:35.000 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:58:35.001 -07:00 [INF] HTTP POST /api/Borrow responded 404 in 20.8076 ms
2023-10-10 11:58:35.004 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0 - 404 - text/plain;+charset=utf-8 25.4701ms
2023-10-10 11:59:24.177 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 11:59:24.436 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 11:59:24.437 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 11:59:24.441 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 11:59:24.442 -07:00 [INF] Hosting environment: Development
2023-10-10 11:59:24.443 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 11:59:24.923 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 11:59:25.035 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 116.7622ms
2023-10-10 11:59:25.043 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 11:59:25.362 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 11:59:25.362 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 11:59:25.362 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 11:59:25.363 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 11:59:25.366 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 323.1203ms
2023-10-10 11:59:25.369 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.3811ms
2023-10-10 11:59:25.399 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 11:59:25.401 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 38.0272ms
2023-10-10 11:59:25.402 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 11:59:25.403 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 11:59:25.403 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 11:59:25.404 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 42.3426ms
2023-10-10 11:59:25.405 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 43.6188ms
2023-10-10 11:59:25.430 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.6813ms
2023-10-10 11:59:25.551 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 11:59:25.665 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.7484ms
2023-10-10 11:59:36.856 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 11:59:36.968 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 11:59:37.031 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 11:59:40.855 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 12:01:02.988 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 12:01:03.278 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 12:01:03.278 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 12:01:03.283 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 12:01:03.284 -07:00 [INF] Hosting environment: Development
2023-10-10 12:01:03.285 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 12:01:03.972 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 12:01:04.103 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 136.5608ms
2023-10-10 12:01:04.108 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 12:01:04.454 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 348.3172ms
2023-10-10 12:01:04.463 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 12:01:04.463 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 12:01:04.463 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 12:01:04.463 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 12:01:04.463 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 12:01:04.471 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.8713ms
2023-10-10 12:01:04.531 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 12:01:04.531 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 12:01:04.534 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 12:01:04.535 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 72.2382ms
2023-10-10 12:01:04.536 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 72.5905ms
2023-10-10 12:01:04.537 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 73.5920ms
2023-10-10 12:01:04.543 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.6715ms
2023-10-10 12:01:04.689 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 12:01:04.819 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.4533ms
2023-10-10 12:01:25.440 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=1&bookId=4&Acc=1&price=10 - 0
2023-10-10 12:01:25.526 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 12:01:25.591 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 12:01:28.498 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 12:01:28.690 -07:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-10-10 12:01:28.701 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 3096.8155ms
2023-10-10 12:01:28.702 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 12:01:28.707 -07:00 [INF] HTTP POST /api/Borrow responded 404 in 3257.2615 ms
2023-10-10 12:01:28.733 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=1&bookId=4&Acc=1&price=10 - 0 - 404 - text/plain;+charset=utf-8 3293.3980ms
2023-10-10 12:02:32.828 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 12:02:33.257 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 12:02:33.258 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 12:02:33.261 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 12:02:33.262 -07:00 [INF] Hosting environment: Development
2023-10-10 12:02:33.263 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 12:02:33.846 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 12:02:33.967 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 123.8154ms
2023-10-10 12:02:33.976 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 12:02:34.281 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 12:02:34.281 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 12:02:34.282 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 12:02:34.281 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 12:02:34.283 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 12:02:34.288 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 311.8023ms
2023-10-10 12:02:34.294 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 12.0819ms
2023-10-10 12:02:34.320 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 12:02:34.325 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 44.3067ms
2023-10-10 12:02:34.326 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 12:02:34.330 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 48.3479ms
2023-10-10 12:02:34.331 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 12:02:34.334 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 52.5196ms
2023-10-10 12:02:34.336 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.2655ms
2023-10-10 12:02:34.481 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 12:02:34.595 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.4363ms
2023-10-10 12:03:00.602 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 12:03:00.691 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 12:03:00.757 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 12:03:16.885 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 12:04:50.660 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 12:04:51.034 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 12:04:51.034 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 12:04:51.040 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 12:04:51.041 -07:00 [INF] Hosting environment: Development
2023-10-10 12:04:51.042 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 12:04:51.833 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 12:04:51.959 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 130.5385ms
2023-10-10 12:04:51.961 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 12:04:52.327 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 366.4348ms
2023-10-10 12:04:52.332 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 12:04:52.334 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 12:04:52.334 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 12:04:52.333 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 12:04:52.343 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 12:04:52.359 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 26.6098ms
2023-10-10 12:04:52.372 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 12:04:52.372 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 12:04:52.376 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 43.7091ms
2023-10-10 12:04:52.382 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 49.1195ms
2023-10-10 12:04:52.400 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 12:04:52.401 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.3938ms
2023-10-10 12:04:52.406 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 73.4688ms
2023-10-10 12:04:52.558 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 12:04:52.679 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.4892ms
2023-10-10 12:05:06.584 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0
2023-10-10 12:05:06.705 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 12:05:06.773 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 12:05:10.471 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 12:05:10.715 -07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 12:05:10.926 -07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [books] SET [author] = @p0, [available_status] = @p1, [bookName] = @p2, [price] = @p3, [pub_year] = @p4
OUTPUT 1
WHERE [bookId] = @p5;
2023-10-10 12:05:15.306 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 8520.0189ms
2023-10-10 12:05:15.311 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 12:05:15.317 -07:00 [ERR] HTTP POST /api/Borrow responded 500 in 8721.6138 ms
System.AggregateException: One or more errors occurred. (No connection could be made because the target machine actively refused it. (localhost:7111))
 ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:7111)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at LibraryAPI.Controllers.BorrowFunctions.borrowBook(Int32 patronId, Int32 bookId, String Acc, Double price) in C:\Users\TRA\Desktop\code-TRA\LibraryAPI\Controllers\BorrowFunctions.cs:line 48
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-10-10 12:05:15.480 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (No connection could be made because the target machine actively refused it. (localhost:7111))
 ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:7111)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at LibraryAPI.Controllers.BorrowFunctions.borrowBook(Int32 patronId, Int32 bookId, String Acc, Double price) in C:\Users\TRA\Desktop\code-TRA\LibraryAPI\Controllers\BorrowFunctions.cs:line 48
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-10 12:05:15.527 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=2&Acc=1&price=10 - 0 - 500 - text/plain;+charset=utf-8 8942.3870ms
2023-10-10 12:07:38.800 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 12:07:39.083 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 12:07:39.087 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 12:07:39.092 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 12:07:39.094 -07:00 [INF] Hosting environment: Development
2023-10-10 12:07:39.095 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 12:07:39.725 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 12:07:39.840 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 120.2570ms
2023-10-10 12:07:39.847 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 12:07:40.190 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 343.3027ms
2023-10-10 12:07:40.194 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 12:07:40.194 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 12:07:40.194 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 12:07:40.194 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 12:07:40.194 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 12:07:40.244 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 50.6652ms
2023-10-10 12:07:40.287 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 12:07:40.287 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 12:07:40.289 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 12:07:40.290 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 95.7549ms
2023-10-10 12:07:40.292 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 98.2022ms
2023-10-10 12:07:40.291 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 97.3595ms
2023-10-10 12:07:40.291 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 97.0274ms
2023-10-10 12:07:40.450 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 12:07:40.586 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.6214ms
2023-10-10 12:07:54.488 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=7&Acc=1&price=10 - 0
2023-10-10 12:07:54.609 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 12:07:54.664 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 12:07:58.274 -07:00 [INF] Executed DbCommand (141ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 12:07:58.485 -07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 12:07:58.662 -07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [books] SET [author] = @p0, [available_status] = @p1, [bookName] = @p2, [price] = @p3, [pub_year] = @p4
OUTPUT 1
WHERE [bookId] = @p5;
2023-10-10 12:07:58.931 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5286/api/Account application/json;+charset=utf-8 -
2023-10-10 12:07:58.948 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5286/api/Account application/json;+charset=utf-8 - - 307 0 - 16.8314ms
2023-10-10 12:07:58.994 -07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7007/api/Account application/json;+charset=utf-8 -
2023-10-10 12:07:59.001 -07:00 [INF] HTTP PUT /api/Account responded 404 in 1.0461 ms
2023-10-10 12:07:59.003 -07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7007/api/Account application/json;+charset=utf-8 - - 404 0 - 8.6646ms
2023-10-10 12:07:59.018 -07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-10-10 12:07:59.052 -07:00 [INF] Executed action LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI) in 4375.2892ms
2023-10-10 12:07:59.055 -07:00 [INF] Executed endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 12:07:59.056 -07:00 [INF] HTTP POST /api/Borrow responded 400 in 4562.7867 ms
2023-10-10 12:07:59.078 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=7&Acc=1&price=10 - 0 - 400 - application/problem+json;+charset=utf-8 4590.3064ms
2023-10-10 22:30:33.984 -07:00 [INF] User profile is available. Using 'C:\Users\TRA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-10 22:30:34.807 -07:00 [INF] Now listening on: https://localhost:7007
2023-10-10 22:30:34.815 -07:00 [INF] Now listening on: http://localhost:5286
2023-10-10 22:30:34.826 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-10 22:30:34.828 -07:00 [INF] Hosting environment: Development
2023-10-10 22:30:34.836 -07:00 [INF] Content root path: C:\Users\TRA\Desktop\code-TRA\LibraryAPI\
2023-10-10 22:30:36.357 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger - -
2023-10-10 22:30:36.636 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger - - - 301 0 - 286.7615ms
2023-10-10 22:30:36.638 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/index.html - -
2023-10-10 22:30:37.616 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - -
2023-10-10 22:30:37.616 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - -
2023-10-10 22:30:37.637 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/_vs/browserLink - -
2023-10-10 22:30:37.616 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - -
2023-10-10 22:30:37.618 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - -
2023-10-10 22:30:37.646 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/index.html - - - 200 - text/html;charset=utf-8 1007.7965ms
2023-10-10 22:30:37.653 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 37.3791ms
2023-10-10 22:30:37.692 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-10-10 22:30:37.696 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui.css - - - 200 143632 text/css 78.3552ms
2023-10-10 22:30:37.725 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-10-10 22:30:37.730 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 113.0603ms
2023-10-10 22:30:37.734 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 96.7935ms
2023-10-10 22:30:37.749 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-10-10 22:30:37.752 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 136.6661ms
2023-10-10 22:30:38.197 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - -
2023-10-10 22:30:38.643 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7007/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 445.4999ms
2023-10-10 22:31:27.397 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7007/api/Borrow?patronId=2&bookId=1002&Acc=1&price=10 - 0
2023-10-10 22:31:27.673 -07:00 [INF] Executing endpoint 'LibraryAPI.Controllers.BorrowFunctions.borrowBook (LibraryAPI)'
2023-10-10 22:31:27.779 -07:00 [INF] Route matched with {action = "borrowBook", controller = "BorrowFunctions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] borrowBook(Int32, Int32, System.String, Double) on controller LibraryAPI.Controllers.BorrowFunctions (LibraryAPI).
2023-10-10 22:31:34.394 -07:00 [INF] Executed DbCommand (219ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 22:31:34.807 -07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[bookId], [b].[author], [b].[available_status], [b].[bookName], [b].[price], [b].[pub_year]
FROM [books] AS [b]
WHERE [b].[bookId] = @__bookId_0
2023-10-10 22:31:35.117 -07:00 [INF] Executed DbCommand (16ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [books] SET [author] = @p0, [available_status] = @p1, [bookName] = @p2, [price] = @p3, [pub_year] = @p4
OUTPUT 1
WHERE [bookId] = @p5;
2023-10-10 22:35:34.424 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5286/api/Account application/json;+charset=utf-8 -
2023-10-10 22:35:34.453 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5286/api/Account application/json;+charset=utf-8 - - 307 0 - 29.7969ms
2023-10-10 22:35:34.529 -07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7007/api/Account application/json;+charset=utf-8 -
2023-10-10 22:35:34.538 -07:00 [INF] HTTP PUT /api/Account responded 404 in 0.5431 ms
2023-10-10 22:35:34.542 -07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7007/api/Account application/json;+charset=utf-8 - - 404 0 - 13.5059ms
